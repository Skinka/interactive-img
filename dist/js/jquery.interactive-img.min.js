!function(i){i.fn.interactiveImg=function(t){var n=i.extend({imageWidth:0,imageHeight:0,mode:"hover click",duration:300},t);return this.each(function(){var t=i(this);i(window).resize(function(){var t=i(this);console.log(t);var d=e(t,n);a(t.find("img"),d)}.bind(t));var d=new Image;d.className="interactive__img",d.onload=function(){var t=i(this),d=e(t,n);a(t.find("img"),d)}.bind(t),d.src=t.data("ii-src"),t.append(i(d)),t.append('<div class="interactive-darken" style="display: none;"></div>')});function e(i,t){var n=t;return n.imageWidth=i.data("ii-width")?i.data("ii-width"):n.imageWidth,n.imageHeight=i.data("ii-height")?i.data("ii-height"):n.imageHeight,n.mode=i.data("ii-mode")?i.data("ii-mode"):n.mode,n.duration=i.data("ii-duration")?i.data("ii-duration"):n.duration,n}function a(t,n){i(t).parent().find(".interactive-point").each(function(){!function(t,n){var e,a,d=i(t);d.off();var r=d.parents(".interactive").find("img.interactive__img");e=parseInt(d.data("ii-top"))*parseInt(r.height())/parseInt(n.imageHeight)-d.innerHeight()/2,a=parseInt(d.data("ii-left"))*parseInt(r.width())/parseInt(n.imageWidth)-d.innerWidth()/2,!1!==n.mode.indexOf("click")&&d.on("click",function(i){d.find(".interactive-point__description").stop().toggle(n.duration),d.parent().find(".interactive-darken").stop().toggle(n.duration)});!1!==n.mode.indexOf("hover")&&d.hover(function(){d.parent().find(".interactive-darken").stop().show(n.duration),d.find(".interactive-point__description").stop().show(n.duration)},function(){d.parent().find(".interactive-darken").stop().hide(n.duration),d.find(".interactive-point__description").stop().hide(n.duration)});d.css({top:e,left:a})}(this,n)})}}}(jQuery);