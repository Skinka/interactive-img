!function(i){i.fn.interactiveImg=function(t){var e=i.extend({imageWidth:0,imageHeight:0,mode:"hover click",duration:300},t);return i(window).resize(function(){var t=i(this),d=n(t,e);a(t.find("img"),d)}.bind(this)),this.each(function(){var t=i(this),d=new Image;d.className="interactive__img",d.onload=function(){var t=i(this).parent(),d=n(t,e);a(this,d)}.bind(d),d.src=t.data("ii-src"),t.append(i(d)),t.append('<div class="interactive-darken" style="display: none;"></div>')});function n(i,t){return t.imageWidth=i.data("ii-width")?i.data("ii-width"):t.imageWidth,t.imageHeight=i.data("ii-height")?i.data("ii-height"):t.imageHeight,t.mode=i.data("ii-mode")?$image.obj("ii-mode"):t.mode,t.duration=i.data("ii-duration")?$image.obj("ii-duration"):t.duration,t}function a(t,e){i(t).parent().find(".interactive-point").each(function(){!function(t,e){var n,a,d=i(t);d.off();var o=d.parents(".interactive").find("img.interactive__img");n=parseInt(d.data("ii-top"))*parseInt(o.height())/parseInt(e.imageHeight)-d.height()/2,a=parseInt(d.data("ii-left"))*parseInt(o.width())/parseInt(e.imageWidth)-d.width()/2,!1!==e.mode.indexOf("click")&&d.on("click",function(i){d.find(".interactive-point__description").stop().toggle(e.duration),d.parent().find(".interactive-darken").stop().toggle(e.duration)});!1!==e.mode.indexOf("hover")&&d.hover(function(){d.parent().find(".interactive-darken").stop().show(e.duration),d.find(".interactive-point__description").stop().show(e.duration)},function(){d.parent().find(".interactive-darken").stop().hide(e.duration),d.find(".interactive-point__description").stop().hide(e.duration)});d.css({top:n,left:a})}(this,e)})}}}(jQuery);