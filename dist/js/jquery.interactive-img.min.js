!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i:i(jQuery)}(function(i){var t=function(t,n){var e;function a(t,n){i(t).parent().find(".interactive-point").each(function(t,a){!function(i,t){var n,e,a=i.parents(".interactive").find("img.interactive__img");n=parseInt(i.data("ii-top"))*parseInt(a.height())/parseInt(t.height)-i.innerHeight()/2,e=parseInt(i.data("ii-left"))*parseInt(a.width())/parseInt(t.width)-i.innerWidth()/2,function(i){var t=i.find(".interactive-point__description");switch(i.data("ii-position")?i.data("ii-position"):"bottom"){case"top":t.addClass("interactive-point__description--top"),t.css("margin","-"+(t.innerHeight()+1.5*i.height())+"px 0 0 -"+(t.innerWidth()/2-i.width()/2)+"px");break;case"bottom":t.addClass("interactive-point__description--bottom"),t.css("margin",i.height()/2+"px 0 0 -"+(t.innerWidth()/2-i.width()/2)+"px");break;case"right":t.addClass("interactive-point__description--right"),t.css("margin","-"+(t.innerHeight()/2+i.height()/2)+"px 0 0 "+1.5*i.width()+"px");break;case"left":t.addClass("interactive-point__description--left"),t.css("margin","-"+(t.innerHeight()/2+i.height()/2)+"px 0 0 -"+(t.innerWidth()+i.width()/2)+"px")}}(i),i.css({top:n,left:e})}(i(a),n),function(t,n){t.off(),n.mode.indexOf("click")>=0&&d(t,n);n.mode.indexOf("hover")>=0&&i(window).outerWidth()>992?function(i,t){i.hover(function(){i.parent().append(e),i.parent().append(i),e.stop().fadeIn(t.duration),i.find(".interactive-point__description").stop().fadeIn(t.duration)},function(){e.stop().fadeOut(t.duration),i.find(".interactive-point__description").stop().fadeOut(t.duration)})}(t,n):n.mode.indexOf("hover")>=0&&n.mode.indexOf("click")<0&&i(window).outerWidth()<=992&&d(t,n)}(i(a),n)})}function d(t,n){t.on("click",function(a){t.parent().append(e),t.parent().append(t),e.stop().fadeToggle(n.duration),t.find(".interactive-point__description").stop().fadeToggle(n.duration,function(){i(window).width()<=992&&function(t){var n=t.find(".interactive-point__description");n.offset().top<0&&n.css("margin-top",parseInt(n.css("margin-top"))+Math.abs(n.offset().top)+"px");n.offset().left<0&&n.css("margin-left",parseInt(n.css("margin-left"))+Math.abs(n.offset().left)+"px");i(window).width()-(n.offset().left+n.width())<0&&n.css("margin-left",parseInt(n.css("margin-left"))-Math.abs(i(window).width()-(n.offset().left+n.width()))-parseInt(n.css("padding-right"))-parseInt(n.css("padding-left"))+"px")}(t)})})}return{init:function(){!function(t,n){(e=i('<div class="interactive-darken" style="display: none;"></div>')).on("click",function(){var t=i(this);t.parent().find(".interactive-point__description:visible").fadeOut(n.duration),t.fadeOut(n.duration)}),i(t).append(e)}(t,n),function(t,n){var e,d;e=i(t),(d=n).width=e.data("ii-width")?e.data("ii-width"):d.width,d.height=e.data("ii-height")?e.data("ii-height"):d.height,d.mode=e.data("ii-mode")?e.data("ii-mode"):d.mode,d.duration=e.data("ii-duration")?e.data("ii-duration"):d.duration,n=d;var o=new Image;o.className="interactive__img",o.onload=function(i,t){a(i,t)}.bind(this,o,n),i(window).on("resize",function(i,t){a(i,t)}.bind(this,o,n)),o.src=i(t).data("ii-src"),i(t).append(i(o))}(t,n)}}};i.fn.interactiveImg=function(n,e){var a=this;return this.each(function(){var d;if(i(this).data("interactiveImg"))d=i(this).data("interactiveImg");else{var o=i.extend(i.fn.interactiveImg.defaultOptions,n);(d=new t(this,o)).init(),i(this).data("interactiveImg",d)}"string"===i.type(n)&&void 0!==d[n]&&i.isFunction(d[n])&&(a=d[n](e))}),a},i.fn.interactiveImg.defaultOptions={width:0,height:0,mode:"hover click",duration:300}});